install_github('ropensci/plotly')
install.packages('Rcpp')
install.packages("Rcpp")
install_github('ropensci/plotly')
library(devtools)
install_github('ropensci/plotly')
help(signup)
help(signup, package = "plotly")
verify(username)
library(plotly)
verify()
plotly::verify
plotly::verify("chjh")
plotly
?plotly
install.packages('jsonlite')
library(jsonlite)
library(jsonlite)
# url with some information about project in Andalussia
url <- 'http://www.juntadeandalucia.es/export/drupaljda/ayudas.json'
# read url and convert to data.frame
document <- fromJSON(txt=url)
class(document)
document$documentacion
document$documentacion[1]
head(document$documentacion)
head(document$documentacion, 1)
class(document$documentacion)
class(document$documentacion$documentacion_item)
(document$documentacion$documentacion_item)[1]
300-6.18-7.5-1.93-6.46-13.7-26.81-4.99-60
duplicated(readClipboard())
x = readClipboard()
unique(x)
writeClipboard(unique(x))
.5/6
sqrt(.5/6)
if(!require(devtools)){install.packages('devtools')}
if(!require(googlesheets)){install_github('jennybc/googlesheets')}
library(googlesheets)
gs_ls()
install.packages('curl')
install.packages("curl")
gs_ls()
library(googlesheets)
gs_ls()
?gs_url()
gs_url("https://docs.google.com/spreadsheets/d/1OXMHv6lal_GiMneW4xHa2wvG4BzTyD41zcCnmfF6PUY/edit?usp=sharing")
?gs_copy
gs_url("https://docs.google.com/spreadsheets/d/1OXMHv6lal_GiMneW4xHa2wvG4BzTyD41zcCnmfF6PUY/edit?usp=sharing") %>%
gs_read()
library(magrittr)
gs_url("https://docs.google.com/spreadsheets/d/1OXMHv6lal_GiMneW4xHa2wvG4BzTyD41zcCnmfF6PUY/edit?usp=sharing") %>%
gs_read()
gs_url("https://docs.google.com/spreadsheets/d/1OXMHv6lal_GiMneW4xHa2wvG4BzTyD41zcCnmfF6PUY/edit?usp=sharing") %>%
gs_read(range = cell_columns(1:5))
gs_url("https://docs.google.com/spreadsheets/d/1OXMHv6lal_GiMneW4xHa2wvG4BzTyD41zcCnmfF6PUY/edit?usp=sharing") %>%
gs_read(col_names = TRUE)
?gs_read
gs_url("https://docs.google.com/spreadsheets/d/1OXMHv6lal_GiMneW4xHa2wvG4BzTyD41zcCnmfF6PUY/edit?usp=sharing") %>%
gs_read(range = cell_cols(1:5))
gs_url("https://docs.google.com/spreadsheets/d/1OXMHv6lal_GiMneW4xHa2wvG4BzTyD41zcCnmfF6PUY/edit?usp=sharing") %>%
gs_read_csv(range = cell_cols(1:5))
gs_url("https://docs.google.com/spreadsheets/d/1OXMHv6lal_GiMneW4xHa2wvG4BzTyD41zcCnmfF6PUY/edit?usp=sharing") %>%
gs_read_csv()
gs_ls("icanhazpdf")
gs_ls("icanhazpdf") %>% gs_read()
gs_read("icanhazpdf")
gs_read(ss = "icanhazpdf")
gs_title("icanhazpdf") %>% gs_read()
gs_ls()
gs_ls("#icanhaz")
gs_ls("#icanhaz") %>% gs_title()
gs_ls("#icanhazpdf") %>% gs_title("#icanhazpdf")
gs_url("https://docs.google.com/spreadsheets/d/1OXMHv6lal_GiMneW4xHa2wvG4BzTyD41zcCnmfF6PUY/edit?usp=sharing") %>%
gs_read_csv()
dat <- gs_url("https://docs.google.com/spreadsheets/d/1OXMHv6lal_GiMneW4xHa2wvG4BzTyD41zcCnmfF6PUY/edit?usp=sharing") %>%
gs_read_csv()
dim(dat)
names(dat)
grep("ifttt.com/missing_link", dat$firsturl)
missing.firsturl <- [grep("ifttt.com/missing_link", dat$firsturl)]
missing.firsturl <- grep("ifttt.com/missing_link", dat$firsturl)]
dat$firsturl[missing.firsturl] <- NA
missing.firsturl <- grep("ifttt.com/missing_link", dat$firsturl)
dat$firsturl[missing.firsturl] <- NA
dat$firsturl
# Cumulative meta-analysis coronary heart disease
pval = c(0.1495,
0.0364,
0.0821,
0.0301,
0.0067,
0.0296,
0.0678,
0.0476,
0.0417,
0.0154,
0.0500,
0.0290,
0.0392,
0.0231,
0.0225,
0.0297,
0.0160,
0.0064,
0.0329,
0.0115,
0.0125,
0.0159)
alpha = .05
pval.sig <- pval[pval <= alpha]
pval.sig.adj <- pval.sig / alpha
fisher <- -2*sum(log(pval.sig.adj))
df = length(pval.sig.adj) * 2
pchisq(fisher, df = df)
# Cumulative meta-analysis stroke
pval = c(0.1616,
0.2540,
0.2053,
0.0340,
0.0229,
0.0314,
0.0197,
0.0199,
0.0077,
0.0017,
0.0042,
0.0012,
0.0025,
0.0022)
alpha = .05
pval.sig <- pval[pval <= alpha]
pval.sig.adj <- pval.sig / alpha
fisher <- -2*sum(log(pval.sig.adj))
df = length(pval.sig.adj) * 2
pchisq(fisher, df = df)
# Cumulative meta-analysis coronary heart disease
pval = c(0.1495,
0.0364,
0.0821,
0.0301,
0.0067,
0.0296,
0.0678,
0.0476,
0.0417,
0.0154,
0.0500,
0.0290,
0.0392,
0.0231,
0.0225,
0.0297,
0.0160,
0.0064,
0.0329,
0.0115,
0.0125,
0.0159)
alpha = .05
pval.sig <- pval[pval <= alpha]
pval.sig.adj <- pval.sig / alpha
fisher <- -2*sum(log(pval.sig.adj))
df = length(pval.sig.adj) * 2
pchisq(fisher, df = df)
hist(pval.sig)
# Cumulative meta-analysis stroke
pval = c(0.1616,
0.2540,
0.2053,
0.0340,
0.0229,
0.0314,
0.0197,
0.0199,
0.0077,
0.0017,
0.0042,
0.0012,
0.0025,
0.0022)
alpha = .05
pval.sig <- pval[pval <= alpha]
pval.sig.adj <- pval.sig / alpha
fisher <- -2*sum(log(pval.sig.adj))
df = length(pval.sig.adj) * 2
pchisq(fisher, df = df)
hist(pval.sig)
df
?Hmisc
??Hmisc
citation('Hmisc')
# Cumulative meta-analysis coronary heart disease
pval = c(0.1495,
0.0364,
0.0821,
0.0301,
0.0067,
0.0296,
0.0678,
0.0476,
0.0417,
0.0154,
0.0500,
0.0290,
0.0392,
0.0231,
0.0225,
0.0297,
0.0160,
0.0064,
0.0329,
0.0115,
0.0125,
0.0159)
alpha = .05
pval.sig <- pval[pval <= alpha]
pval.sig.adj <- pval.sig / alpha
fisher <- -2*sum(log(pval.sig.adj))
df = length(pval.sig.adj) * 2
pchisq(fisher, df = df)
# Cumulative meta-analysis stroke
pval = c(0.1616,
0.2540,
0.2053,
0.0340,
0.0229,
0.0314,
0.0197,
0.0199,
0.0077,
0.0017,
0.0042,
0.0012,
0.0025,
0.0022)
alpha = .05
pval.sig <- pval[pval <= alpha]
pval.sig.adj <- pval.sig / alpha
fisher <- -2*sum(log(pval.sig.adj))
df = length(pval.sig.adj) * 2
pchisq(fisher, df = df)
# Cumulative meta-analysis coronary heart disease
pval = c(0.1495,
0.0364,
0.0821,
0.0301,
0.0067,
0.0296,
0.0678,
0.0476,
0.0417,
0.0154,
0.0500,
0.0290,
0.0392,
0.0231,
0.0225,
0.0297,
0.0160,
0.0064,
0.0329,
0.0115,
0.0125,
0.0159)
alpha = .05
pval.sig <- pval[pval <= alpha]
pval.sig.adj <- pval.sig / alpha
fisher <- -2*sum(log(pval.sig.adj))
df = length(pval.sig.adj) * 2
pchisq(fisher, df = df)
df
fisher
# Cumulative meta-analysis stroke
pval = c(0.1616,
0.2540,
0.2053,
0.0340,
0.0229,
0.0314,
0.0197,
0.0199,
0.0077,
0.0017,
0.0042,
0.0012,
0.0025,
0.0022)
alpha = .05
pval.sig <- pval[pval <= alpha]
pval.sig.adj <- pval.sig / alpha
fisher <- -2*sum(log(pval.sig.adj))
df = length(pval.sig.adj) * 2
pchisq(fisher, df = df)
fisher
df
fisher <- -2*sum(log(pval))
fisher
pchisq(fisher, df = df)
library(xlsx)
citation('xlsx')
citation('httr')
if(!require(devtools)){install.packages('devtools')}
if(!require(magrittr)){install.packages('magrittr')}
if(!require(curl)){install.packages('curl')}
if(!require(googlesheets)){install_github('jennybc/googlesheets')}
library(devtools)
library(magrittr)
library(curl)
library(googlesheets)
link = "https://docs.google.com/spreadsheets/d/1OXMHv6lal_GiMneW4xHa2wvG4BzTyD41zcCnmfF6PUY/edit?usp=sharing"
dat <- gs_url(link) %>% gs_read_csv(ws = "raw")
# Remove all missing `firsturl` (August 19, 2015; remark 1)
missing.firsturl <- grep("ifttt.com/missing_link", dat$firsturl)
dat$firsturl[missing.firsturl] <- NA
# Remove duplicates (August 18, 2015; remark 2)
dat <- dat[!duplicated(dat$twt), ]
# Remove retweets (August 18, 2015; remark 3)
dat <- dat[!grepl(pattern = "RT @.*: .*", dat$twt), ]
# Remove all tweets that are no request (August 18, 2015; remark 3)
dat <- dat[dat$request == 1, ]
# Remove the $request
dat <- dat[, -dim(dat)[2]]
gs_url(link) %>% gs_edit_cells(ws = "coding",
input = dat[1:25,],
anchor = "A1", byrow = TRUE)
gs_url(link) %>% gs_edit_cells(ws = "coding",
input = dat[1:15,],
anchor = "A1", byrow = TRUE)
setwd("C:/Users/u1233095/Downloads/master")
source('functions.r')
if(!require(Hmisc)){install.packages('Hmisc')}
library(Hmisc)
library(metafor)
if(!require(metafor)){install.packages('metafor')}
if(!require(httr)){install.packages('httr')}
library(httr)
# Read in Tilburg data
info <- GET('https://osf.io/fgjvw/?action=download', write_disk('rpp_data.csv', overwrite = TRUE)) #downloads data file from the OSF
MASTER <- read.csv("rpp_data.csv")[1:167, ]
setwd("~/Dropbox/projects")
list.files(recursive = TRUE)
regexpr('*.csv', list.files(recursive = TRUE))
grep('*.csv', list.files(recursive = TRUE))
regexpr('*.csv', list.files(recursive = TRUE))
grep('*.csv', list.files(recursive = TRUE), value = TRUE)
x <- grep('*.csv', list.files(recursive = TRUE), value = TRUE)
file = x[1]
temp = read.table(file, header = TRUE, sep = ';', dec = '.')
temp
x <- grep('2015growth/*.csv', list.files(recursive = TRUE), value = TRUE)
x
setwd("~/Dropbox/projects/2015growth/searches/abstracts")
x <- grep('*.csv', list.files(recursive = TRUE), value = TRUE)
x
file = x[1]
temp = read.table(file, header = TRUE, sep = ';', dec = '.')
temp
temp = read.table(file, header = TRUE, sep = ';', dec = '.', quote = TRUE)
head(temp)
temp = read.table(file, header = TRUE, sep = ';', dec = '.', quote = TRUE)
temp = read.table(file, header = TRUE, sep = ';', dec = '.', quote = "")
temp[2,]
setwd("~/Dropbox/projects/2015growth")
grep('*.csv', list.files('searches/abstracts/coding chjh/'))
grep('*.csv', list.files('searches/abstracts/coding chjh/'), values = TRUE)
grep('*.csv', list.files('searches/abstracts/coding chjh/'), value = TRUE)
chjh <- NULL
c(chjh, 1)
chjh <- read.table(paste0('searches/abstracts/coding chjh/', file),
file = files[1]
chjh <- read.table(paste0('searches/abstracts/coding chjh/', file),
header = TRUE, sep = ',')
chjh$chjh
# Dependencies
if(!require(psych)){install.packages('psych')}
library(psych)
chjh <- NULL
jmw <- NULL
files <- grep('*.csv', list.files('searches/abstracts/coding chjh/'), value = TRUE)
for(file in files){
chjh <- c(chjh, read.table(paste0('searches/abstracts/coding chjh/', file),
header = TRUE, sep = ',')$chjh)
jmw <- c(jmw, read.table(paste0('searches/abstracts/coding jmw/', file),
header = TRUE, sep = ',')$jmw)
}
jmw
length(jmw) == length(chjh)
?cohen.kappa
psych::cohen.kappa(cbind(chjh, jmw))
cbind(chjh, jmw)
files <- grep('*.csv', list.files('searches/abstracts/coding chjh/'), value = TRUE)
files
files <- files[-c(5, 6)]
files
for(file in files){
chjh <- c(chjh, read.table(paste0('searches/abstracts/coding chjh/', file),
header = TRUE, sep = ',')$chjh)
jmw <- c(jmw, read.table(paste0('searches/abstracts/coding jmw/', file),
header = TRUE, sep = ',')$jmw)
}
psych::cohen.kappa(cbind(chjh, jmw))
chjh <- NULL
jmw <- NULL
files <- grep('*.csv', list.files('searches/abstracts/coding chjh/'), value = TRUE)
files <- files[-c(5, 6)]
for(file in files){
chjh <- c(chjh, read.table(paste0('searches/abstracts/coding chjh/', file),
header = TRUE, sep = ',')$chjh)
jmw <- c(jmw, read.table(paste0('searches/abstracts/coding jmw/', file),
header = TRUE, sep = ',')$jmw)
}
psych::cohen.kappa(cbind(chjh, jmw))
sum(ifelse(chjh == jmw, 0, 1))
# Dependencies
if(!require(psych)){install.packages('psych')}
library(psych)
chjh <- NULL
jmw <- NULL
files <- grep('*.csv', list.files('searches/abstracts/coding chjh/'), value = TRUE)
for(file in files){
chjh <- c(chjh, read.table(paste0('searches/abstracts/coding chjh/', file),
header = TRUE, sep = ',')$chjh)
jmw <- c(jmw, read.table(paste0('searches/abstracts/coding jmw/', file),
header = TRUE, sep = ',')$jmw)
}
psych::cohen.kappa(cbind(chjh, jmw))
sum(ifelse(chjh == jmw, 0, 1))
cbind(chjh, jmw)[ifelse(chjh == jmw, 0, 1)]
cbind(chjh, jmw)[ifelse(chjh == jmw, 0, 1), ]
cbind(chjh, jmw)
# Dependencies
if(!require(psych)){install.packages('psych')}
library(psych)
chjh <- NULL
jmw <- NULL
files <- grep('*.csv', list.files('searches/abstracts/coding chjh/'), value = TRUE)
for(file in files){
chjh <- c(chjh, read.table(paste0('searches/abstracts/coding chjh/', file),
header = TRUE, sep = ',')$chjh)
jmw <- c(jmw, read.table(paste0('searches/abstracts/coding jmw/', file),
header = TRUE, sep = ',')$jmw)
}
psych::cohen.kappa(cbind(chjh, jmw))
sum(ifelse(chjh == jmw, 0 , 1))
# Might lack specificity
chjh <- NULL
jmw <- NULL
files <- grep('*.csv', list.files('searches/abstracts/coding chjh/'), value = TRUE)
files <- files[-c(5, 6)]
for(file in files){
chjh <- c(chjh, read.table(paste0('searches/abstracts/coding chjh/', file),
header = TRUE, sep = ',')$chjh)
jmw <- c(jmw, read.table(paste0('searches/abstracts/coding jmw/', file),
header = TRUE, sep = ',')$jmw)
}
psych::cohen.kappa(cbind(chjh, jmw))
sum(ifelse(chjh == jmw, 0 , 1))
x <- , read.table(paste0('searches/abstracts/coding jmw/', file),
header = TRUE, sep = ',')
v
x = read.table(paste0('searches/abstracts/coding jmw/', file),
header = TRUE, sep = ',')
x$x
chjh <- NULL
jmw <- NULL
abstract <- NULL
files <- grep('*.csv', list.files('searches/abstracts/coding chjh/'), value = TRUE)
for(file in files){
chjh <- c(chjh, read.table(paste0('searches/abstracts/coding chjh/', file),
header = TRUE, sep = ',')$chjh)
jmw <- c(jmw, read.table(paste0('searches/abstracts/coding jmw/', file),
header = TRUE, sep = ',')$jmw)
abstract <- c(abstract, read.table(paste0('searches/abstracts/coding jmw/', file),
header = TRUE, sep = ',')$x)
}
psych::cohen.kappa(cbind(chjh, jmw))
sum(ifelse(chjh == jmw, 0 , 1))
abstract[!chjh == jmw]
abstract
chjh <- NULL
jmw <- NULL
abstract <- NULL
files <- grep('*.csv', list.files('searches/abstracts/coding chjh/'), value = TRUE)
for(file in files){
chjh <- c(chjh, read.table(paste0('searches/abstracts/coding chjh/', file),
header = TRUE, sep = ',')$chjh)
jmw <- c(jmw, read.table(paste0('searches/abstracts/coding jmw/', file),
header = TRUE, sep = ',')$jmw)
abstract <- c(abstract, as.character(read.table(paste0('searches/abstracts/coding jmw/', file),
header = TRUE, sep = ',')$x))
}
abstract[!chjh == jmw]
chjh <- NULL
jmw <- NULL
abstract <- NULL
filessave <- NULL
files <- grep('*.csv', list.files('searches/abstracts/coding chjh/'), value = TRUE)
for(file in files){
chjh <- c(chjh, read.table(paste0('searches/abstracts/coding chjh/', file),
header = TRUE, sep = ',')$chjh)
jmw <- c(jmw, read.table(paste0('searches/abstracts/coding jmw/', file),
header = TRUE, sep = ',')$jmw)
abstract <- c(abstract, as.character(read.table(paste0('searches/abstracts/coding jmw/', file),
header = TRUE, sep = ',')$x))
filessave <- c(filessave, file)
}
psych::cohen.kappa(cbind(chjh, jmw))
sum(ifelse(chjh == jmw, 0 , 1))
cbind(filessave, abstract, chjh, jmw)
cbind(filessave, abstract, chjh, jmw)[!chjh == jmw, ]
